{
  "manifest_version": 3,
  "name": "Twitter DM Downloader",
  "version": "1.0.0",
  "description": "Featuring ffmpeg.wasm",
  "icons": {
      "32": "icons/gem.png",
      "48": "icons/gem.png",
      "96": "icons/gem.png",
      "128": "icons/gem.png"
  },
  "permissions": [      
    "storage", 
    "webRequest",
  ],
  "host_permissions": [
      "<all_urls>"
  ],
  "action": {
      "default_icon": "icons/gem.png",
      "default_title": "Twitter DM Downloader",
      "default_popup": "html/popup.html"
  },
  "background": {
      "service_worker": "js/background.js"
  },
  "content_scripts": [
      {
          "matches": [
              "https://twitter.com/*"
          ],
          "js": [
              "lib/ffmpeg.min.js",
              "lib/ffmpeg-core.js",
              "js/content.js"
          ]
      }
  ],
  "options_ui": {
      "page": "html/transcode.html"
  },
  "web_accessible_resources": [
      {
          "resources": [
              "data/*",
              "html/*",
              "lib/*"
          ],
          "matches": [
              "<all_urls>"
          ]
      }
  ],
  "content_security_policy": {
      "extension_pages": "script-src 'self' 'wasm-unsafe-eval'; object-src 'self';",
      "sandbox": "sandbox allow-scripts allow-forms allow-popups allow-modals; script-src 'self' 'unsafe-inline' 'unsafe-eval' 'wasm-unsafe-eval'; child-src 'self';"
  }
}
